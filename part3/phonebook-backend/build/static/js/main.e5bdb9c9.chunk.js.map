{"version":3,"sources":["services/phones.js","components/Filter.js","components/PersonForm.js","components/Button.js","components/Persons.js","components/Footer.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","phoneService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","del","delete","Filter","filter","onChangeHandler","value","onChange","PersonForm","onSubmitHandler","name","onChangeNameHandler","number","onChangeNumberHandler","onSubmit","type","Button","text","onClick","Person","person","onClickHandler","Persons","persons","map","Footer","style","color","fontStyle","fontSize","Notification","notification","className","message","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setNotification","useEffect","initialList","notifyWith","setTimeout","personsToShow","toLocaleLowerCase","includes","event","target","preventDefault","personInDB","find","window","confirm","changedPerson","returnedPerson","catch","error","p","numberObject","returnedPhone","concat","req","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5bdb9c9.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const del = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request;\r\n  }\r\n\r\n  const phoneService = { getAll, create, update, del }  \r\n\r\n  export default phoneService\r\n","import React from 'react'\r\n\r\nconst Filter = ({ filter, onChangeHandler }) =>\r\n    <div>\r\n        Filter shown with: <input value={filter} onChange={onChangeHandler} />\r\n    </div>\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({\r\n    onSubmitHandler,\r\n    name,\r\n    onChangeNameHandler,\r\n    number,\r\n    onChangeNumberHandler\r\n}) => {\r\n    return (\r\n        <form onSubmit={onSubmitHandler}>\r\n            <div>\r\n                Name: <input value={name} onChange={onChangeNameHandler} />\r\n            </div>\r\n            <div>\r\n                Number: <input value={number} onChange={onChangeNumberHandler} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Button = ({text,value, name, onClick}) =>  <button value={value}  name={name} onClick={onClick}>\r\n      {text}\r\n    </button>\r\n\r\nexport default Button;","import React from 'react'\r\n\r\nimport Button from './Button'\r\n\r\nconst Person = ({ person, onClickHandler }) => \r\n<p>\r\n    {person.name}: {person.number} <Button text=\"Delete\" value={person.id} name={person.name} onClick={onClickHandler} /></p>\r\n\r\nconst Persons = ({ persons, onClickHandler }) =>\r\n    persons.map((person) => <Person key={person.name} person={person} onClickHandler={onClickHandler}/>)\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Footer = () => {\r\n    const footerStyle = {\r\n      color: 'green',\r\n      fontStyle: 'italic',\r\n      fontSize: 16\r\n    }\r\n    return (\r\n      <div style={footerStyle}>\r\n        <br />\r\n        <em>Phonebook app, by GreenVan.<br/>\r\n             FullStackOpen course at \r\n            University of Helsinki 2021</em>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Footer","import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={notification.type}>\r\n      {notification.message}\r\n    </div>\r\n  )\r\n}\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\n\nimport phoneService from './services/phones'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Footer from './components/Footer'\n\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(initialList => {\n        setPersons(initialList)\n      })\n  }, [])\n\n\n  const notifyWith = (message, type='notification') => {\n    setNotification({ message, type })\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  const personsToShow = (filter === '')\n    ? persons\n    : persons.filter(\n      person => person.name.toLocaleLowerCase().includes(filter.toLocaleLowerCase())\n    )\n\n  const addNumber = (event) => {\n    event.preventDefault() //to prevent the default action of submitting HTML forms\n\n    //Check if it is already in database\n    const personInDB = persons.find((person) => person.name === newName)\n    if (personInDB) {\n\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\n        const changedPerson = { ...personInDB, number: newNumber }\n        phoneService\n          .update(personInDB.id, changedPerson)\n          .then(returnedPerson => {\n            notifyWith(`'${returnedPerson.name}' updated succesfully`)\n            \n            setPersons(persons.map(person => person.name !== personInDB.name ? person : changedPerson))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {       //If it is shortly removed before update     \n            notifyWith(`The number of '${personInDB.name}' was removed from server`,'error')\n\n            setPersons(persons.filter(p => p.name !== personInDB.name))\n            //We do not setNewName('') nor setNewNumber(''), so it is posible for the user to add with this info\n          })\n      }\n\n    }\n    else {\n      const numberObject = { name: newName, number: newNumber }\n      phoneService\n        .create(numberObject)\n        .then(returnedPhone => {\n          notifyWith(`Added '${returnedPhone.name}'`)\n\n          setPersons(persons.concat(returnedPhone))\n          setNewName('')\n          setNewNumber('')\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleOnClickDelete = (event) => {\n\n    const name = event.target.name\n\n    if (window.confirm(`Delete '${name}'?`)) {\n      const id = event.target.value\n      phoneService\n        .del(id)\n        .then((req) => {\n          notifyWith(`'${name}' deleted succesfully`)\n\n          setPersons(persons.filter(p => p.name !== name))\n        })\n        .catch(error => {\n          notifyWith(`The number of '${name}' was already removed from server`,'error')\n\n          setPersons(persons.filter(p => p.name !== name))\n        })\n    }\n\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <Filter filter={filter} onChangeHandler={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmitHandler={addNumber}\n        name={newName}\n        onChangeNameHandler={handleNameChange}\n        number={newNumber}\n        onChangeNumberHandler={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} onClickHandler={handleOnClickDelete} />\n      <Footer />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}